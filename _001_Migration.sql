CREATE TABLE [dbo].[tbl_Roles] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.tbl_Roles] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[tbl_Users] (
    [Id] [int] NOT NULL IDENTITY,
    [Username] [nvarchar](128) NOT NULL,
    [Passwordhash] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.tbl_Users] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[tbl_Departments] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](256),
    CONSTRAINT [PK_dbo.tbl_Departments] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[tbl_Staffs] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](256) NOT NULL,
    [Code] [int],
    [Department_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.tbl_Staffs] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Department_Id] ON [dbo].[tbl_Staffs]([Department_Id])
CREATE TABLE [dbo].[UsersRole] (
    [UserId] [int] NOT NULL,
    [RoleId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.UsersRole] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UsersRole]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[UsersRole]([RoleId])
ALTER TABLE [dbo].[tbl_Staffs] ADD CONSTRAINT [FK_dbo.tbl_Staffs_dbo.tbl_Departments_Department_Id] FOREIGN KEY ([Department_Id]) REFERENCES [dbo].[tbl_Departments] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UsersRole] ADD CONSTRAINT [FK_dbo.UsersRole_dbo.tbl_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[tbl_Users] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UsersRole] ADD CONSTRAINT [FK_dbo.UsersRole_dbo.tbl_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[tbl_Roles] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201504081913272__001_UsersandStaffs', N'Overtime.Migrations.Configuration',  0x1F8B0800000000000400ED5B5B4FDC46147EAFD4FF60F9B1226B206A95A2DD4474810A355CC492A86F68D69E5DACDA63D733A6A0AABFAC0FFD49FD0B3D637BECF15C7C59164893285204F69CFB3767CE9C63FEFDFB9FE9BBFB3872EE7046C384CCDCBDC9AEEB60E2274148D6333767AB576FDC776FBFFD667A1CC4F7CE47B1EE355F079484CEDC5BC6D203CFA3FE2D8E119DC4A19F253459B1899FC41E0A126F7F77F7476F6FCFC3C0C2055E8E33BDCA090B635CFC02BFCE13E2E394E5283A4B021CD1EA39BC59145C9D7314639A221FCFDC0B5096D34ECAA5AE73188508D458E068E53A88908421064A1E7CA078C1B284AC17293C40D1F5438A61DD0A451457CA1F34CB87DAB1BBCFEDF01A42C1CACF294BE2910CF75E578EF154F28DDCEBD68E03D71D838BD903B7BA70DFCCBD4A22305C1574308F32BE48F3EC84AFDF71C4D39D3AFA0012FE6FC799E711CB333C233867198A769CCB7C1985FE2FF8E13AF90D9319C9A3485609948277AD07F0E8324B5210F170855795A2A781EB786D3A4F25ACC9249AD28C53C25EEFBBCE390847CB08D711974C5EB024C33F638233C470708918C319E13C70E1334DBA228BFF2FA401C460ABB8CE19BA7F8FC99ADDC226DA7FE33A27E13D0EC4934A830F24849D05442CCBB1414345EA39BA0BD785C28A7C407606C0BFC251F196DE866989FF097F73C3E306AF4FB224E63F96EBCBA737D7285B6306CA27DAAB459267BEA2C5D46B50D4892DCE670CB6F8FAAFD832C8E28E21CF832F45F225A2F48F240B6E11BDED90BEFFFD0F4F8BEE0ABE9BA05B40D8806E01FC8DD07D845394B118223806E30DD557A41B64F564D1A1381B0AAB0543AB9519574DA06EC4AA065EDA4B0D65FA8A4781ADE031066705C157883D1DC44626D239902A360E05A99C681E0F54F5B0B7437908500F294DFCB050493AABAA7CDCB6EF98048E3D3997E110091D2202E80C53C023089DB9DF69DE3272AB6D6BB895F56D27B7A92759D16D9CEE6B9B561D19A2514E8E6C5BC53D57DD6817E408479861E7D02F6F1273447D14E8C0834805C3B532B8ACCA359BF9AC8409DCDD180A6187567E1369E868C9DFE07BD3910971ACB219ADF6986A05E7BCC0AC5D1234B86C455C834B9BB8AA9635E2127C3DC48D174D2CE4A0F63012FB55E351854021975CDEB644D43FD202BD3A5201D5B91F6B4D6B577983E8059C24FA4A3715A56D6306186AC873BABD3D1B74E01695B46FC5BAC307F69D2531137A0FF68548BBF57E6A9A205ED90511DD12CFD22E999EA13485334E6A9F544F9C45D93B99BF5A8CEF2BC4250FCFA786F642AD6D2D094E6CB4C6CADBF2503C0933CA8E10434BC44FD179106BCBF4EC61D956429E9C20F49089BD2656F39FDB694A6E76A80C1A079E804D3CE085795841BC4E5634AE50843243ED334FA23C26B6FAA98BBAAC6664FAF289CE61EA297AAB9EF134D768074BDBCF83A250A68FC744A1C8C9E3A360267B9A283417749947F37438A7F6855BE6D67EF3C9C4574E908F89B2746C8E8F7517F117BAEFACC7DFF0909455C8F86858E85E3A10360EE5D54CE6503E79FE50B6EB003D8F8A3AAF3B578A55A684683A9A781563C867ED8A50F7C5A0587246A67816B714413B4A9FAAACDA501FCE639C3E6A75363A7086BA754816AC170FDA5D069F59CBDB0D5D27F1DB4244ADF5F286DA6D3BA85AE5AD2EA973415D812B95F6B4AA7AFBA7975A195C2E711DD0FD2E0C7809BC78A00CC713BE60B2F83D9A476171BF140BCE10095798B2B273E7EEEFEEED2B33D04F671EE9511A44038692CFDE7A0CB9477B9B8B23FB7E72B791DCA1CCBF45993EB8E9643A6EDEF679B84D9D786DE8BA61032D23F3A20FBC9DB8D8AAD3FF6D747A41AD384F1FCA8C1C7C7C996E1B3D5828B4EE72BB4EAE9CEA121FAD417B4A027C3F73FF2C280F9CD35F6F5AC43BCE450647D181B3EBFCB5CD8CB6E961602D3DF5A5E6AAB01F2F42C438AF955423DCA50B160A8F135C526D214E5D531F6395A9348B7BE73D4F34FEA8E1A4CA1F3025024600189CF1BD8F22280B29CBA030D4AE80975948FC3045916CAF5ED40E4958DC9A9A9DFA06F61E263C13A9B60D9165BF96D56C15AFF6D93E6288D6739993E2A5C5CA14A7CF082B83E3F79C58B15F999F012B9B0C5C5F76C45A8DEE46CE5337454C67D774EBB8B135047541BDCD82AD63C73C78D6274C96E669EB7358CB4CB9BC96CFDC60994080AB1A6B19897EDB8091B375E26C636D1CBE760CA47BE6D136311D534EF3D0DA3EB3B689B0CC3E4D5EB204A17965925178CA38FBEF199BD753DFAEE9B9A577A6D535EAFCA96F6C2E9BDA6ED23E7E606E18CB779A686EC069C7B13AE87C49139FF09B00CB57009DE6B6B686D4AC7D9281BFDE5E84EC29FD0905646F1AAE1B16FC0F2A08F65B79B35E734A5689C8E28A466289720539C30C0590540F3316AE90CFE0B58F292D3EA7FB88A21C961CC74B1C9C928B9CA539039371BC8C5A9FE7F163A04B7EF155435BE7E9455A7CFFB60D1340CD104CC017E4A73C8C825AEF13C34DC8C2829F2F558780C792F14EC1FAA1E6749E90818C2AF7D5C7E2358ED30898D10BB240777813DD609FBDC76BE43F882EB19D497F20DA6E9F1E85689DA198563C1A7AF815301CC4F76FFF0325EC1C1549340000 , N'6.1.3-40302')

